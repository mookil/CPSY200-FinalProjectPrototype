@page "/rental"

<h3>Rental Management</h3>

<EditForm Model="@rental">
    <div class="form-group mb-3">
        <label for="rentalid">Rental ID</label>
        <InputText id="rentalid" class="form-control" @bind-Value="@rental.RentalID" disabled />
    </div>

    <div class="form-group mb-3">
        <label for="date">Date</label>
        <InputText id="date" class="form-control" @bind-Value="@rental.Date"  />
    </div>

    <div class="form-group mb-3">
        <label for="custid">Customer ID</label>
        <InputText id="custid" class="form-control" @bind-Value="@rental.CustomerID" />
    </div>

    <div class="form-group mb-3">
        <label for="lastname">Customer Last Name</label>
        <InputText id="lastname" class="form-control" @bind-Value="@rental.CustomerLastName" />
    </div>

    <div class="form-group mb-3">
        <label for="equipid">Equipment ID</label>
        <InputText id="equipid" class="form-control" @bind-Value="@rental.EquipmentId" />
    </div>

    <div class="form-group mb-3">
        <label for="rentaldate">Rental Date</label>
        <InputText id="rentaldate" class="form-control" @bind-Value="@rental.RentalDate" />
    </div>

    <div class="form-group mb-3">
        <label for="rentalreturn">Rental Return</label>
        <InputText id="rentalreturn" class="form-control" @bind-Value="@rental.RentalReturn" />
    </div>

    <div class="form-group mb-3">
        <label for="totalfinal">Total Final Cost</label>
        <InputNumber id="totalfinal" class="form-control" @bind-Value="@rental.TotalFinalCost" />
    </div>

    <div class="text-center">
        <button @onclick="SaveRental" class="btn btn-primary mb-3">Add new Rental</button>
    </div>
</EditForm>

@if (isSaved)
{
    <div class="alert alert-info" role="alert">
        Rental was added
    </div>
}

<table class="table table-bordered">
    <thead>
        <tr>
            <th>#</th>
            <th>Date</th>
            <th>Customer ID</th>
            <th>Customer Last Name</th>
            <th>Equipment ID</th>
            <th>Rental Date</th>
            <th>Rental Return</th>
            <th>Total Final Cost</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var rental in RentalsList)
        {
            <tr>
                <td>@rental.RentalID</td>
                <td>@rental.Date</td>
                <td>@rental.CustomerID</td>
                <td>@rental.CustomerLastName</td>
                <td>@rental.EquipmentId</td>
                <td>@rental.RentalDate</td>
                <td>@rental.RentalReturn</td>
                <td>@Convert.ToString(rental.TotalFinalCost)</td>
            </tr>
        }
    </tbody>
</table>